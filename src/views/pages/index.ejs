<!DOCTYPE html>
<html lang="en">

<%- include('../partials/header.ejs') %>
<%- include('../partials/nav.ejs') %>

<body>
<div class="page-header-container">
    <div class="page-header">
        <h1> Item inspection </h1>
    </div>
</div>


<div class="main content">
    <div class="search">
        <label>
            <input class="search-bar" type="search" id="search-input-bar" autocomplete="off"  placeholder="Search for items..." value="">
        </label>
        <button id="search-button" tabindex="-1" onclick="search()">
            <i class="fas fa-search"></i>
        </button>
    </div>
    <div class="row items">
        <%renderItems()%>
    </div>
</div>
</body>
</html>

<%
 function renderItems() {
    for (let i = 0; i < items.length; i++) {
        const item = items[i]
        if (!item) return %>
            <a href="/item/<%=item.id%>">
                <div class="item quiz <%=item.needsInspection ? 'inspection' : ''%>">
                    <div class="name">
                        <h3> <%=item.name%> </h3>
                    </div>
                    <div class="quiz-footer">
                       <p>Inspected: <%=item.lastInspectedText || 'Never'%></p>
                    </div>
                </div>
            </a>
    <%}
 }%>